!function(a,b){"undefined"!=typeof window._attachment_taxonomies&&"undefined"!=typeof a.media&&(a.media.taxonomies=window._attachment_taxonomies,window._attachment_taxonomies=void 0,a.media.view.AttachmentFilters.Taxonomy=a.media.view.AttachmentFilters.extend({id:"media-attachment-taxonomy-filters",createFilters:function(){var a={};if(this.options.queryVar&&this.options.allLabel&&(a.all={text:this.options.allLabel,props:{},priority:1},a.all.props[this.options.queryVar]=null,this.options.terms&&this.options.terms.length))for(var b in this.options.terms)a[this.options.terms[b].slug]={text:this.options.terms[b].name,props:{},priority:b+2},a[this.options.terms[b].slug].props[this.options.queryVar]=this.options.terms[b].slug;this.filters=a}}),a.media.view.AttachmentsBrowser=a.media.view.AttachmentsBrowser.extend({createToolbar:function(){a.media.view.AttachmentsBrowser.__super__.createToolbar.apply(this,arguments);var b=a.media.taxonomies.data;for(var c in b)this.toolbar.set(b[c].slug+"FilterLabel",new a.media.view.Label({value:a.media.taxonomies.l10n.filterBy[b[c].slug],attributes:{"for":"media-attachment-"+b[c].slugId+"-filters"},priority:-72}).render()),this.toolbar.set(b[c].slug+"Filter",new a.media.view.AttachmentFilters.Taxonomy({controller:this.controller,model:this.collection.props,priority:-72,queryVar:b[c].queryVar,terms:b[c].terms,id:"media-attachment-"+b[c].slugId+"-filters",allLabel:a.media.taxonomies.l10n.all[b[c].slug]}).render())}}),b(document).on("change",".attachment-taxonomy-select > select",function(a){var c=[];for(var d in a.target.options)a.target.options[d].selected&&c.push(a.target.options[d].value);b(a.target).parent().prev(".attachment-taxonomy-input").find("input").val(c.join(",")).trigger("change")}))}(window.wp||{},window.jQuery);